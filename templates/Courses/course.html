{% extends 'common/base.html' %}
{% load static %}

{% block title %}All Courses{% endblock title %}

{% block content %}
<h2 class="mb-4">
    {% if selected_university %}
        Courses for {{ selected_university }}
    {% else %}
        All Courses
    {% endif %}
</h2>

<!-- ðŸ”¹ à¦¨à¦¤à§à¦¨ dropdown -->
<div class="mb-3">
    <label for="universitySelect" class="form-label">Filter by University:</label>
    <select id="universitySelect" class="form-select" onchange="location.href=this.value">
        <option value="{% url 'course-list' %}">All Universities</option>
        <option value="{% url 'university-courses' 'EWU' %}" {% if selected_university == 'EWU' %}selected{% endif %}>EWU</option>
        <option value="{% url 'university-courses' 'NSU' %}" {% if selected_university == 'NSU' %}selected{% endif %}>NSU</option>
        <option value="{% url 'university-courses' 'BRAC' %}" {% if selected_university == 'BRAC' %}selected{% endif %}>BRAC</option>
        <option value="{% url 'university-courses' 'IUB' %}" {% if selected_university == 'IUB' %}selected{% endif %}>IUB</option>
        <option value="{% url 'university-courses' 'AIUB' %}" {% if selected_university == 'AIUB' %}selected{% endif %}>AIUB</option>
    </select>
</div>

<table class="table table-striped table-bordered table-hover">
    <thead class="table-dark">
        <tr>
            <th>University Name</th>
            <th>Course Code</th>
            <th>Course Name</th>
        </tr>
    </thead>
    <tbody>
        {% for course in courses %}
        <tr>
            <td>{{ course.university_name }}</td>
            <td>{{ course.course_code }}</td>
            <td>{{ course.course_name }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3" class="text-center">No courses found</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock content %}
